(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,a,t){},191:function(e,a,t){},239:function(e,a,t){e.exports=t(443)},443:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(29),l=t.n(r),i=t(10),c=t(42),s=t(453),m=t(446),u=t(452),p=t(118),d=(t(150),t(21)),E=t(451),g=t(459),j=t(454),v=t(460),h=Object(n.createContext)({}),b=Object(n.createContext)({}),f=Object(n.createContext)({});var k=function(e){var a=Object(n.useContext)(h),t=a.loggedIn,r=a.setLoggedIn,l=Object(n.useContext)(b),i=(l.token,l.setToken),c=Object(n.useContext)(f),s=c.role,m=c.setRole;return Object(n.useEffect)((function(){console.log("role2"),console.log(s)}),[]),o.a.createElement("div",{className:"navContainer"},function(a,t){return console.log("loggedIn, role"),console.log(a),console.log(t),a&&"STUDENT"==t?o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/myposts"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(j.a,null),"Moji oglasi")),o.a.createElement(d.b,{to:"/profile"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(j.a,null),"Uredi profil")),o.a.createElement(d.b,{to:"/recievedlikesposts"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){return e.removeLikes()}},o.a.createElement(j.a,null),"Dobiveni lajkovi",o.a.createElement(E.a,{count:e.likes,dot:!0}))),o.a.createElement(d.b,{to:"/confirmswap"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){return e.removeSwaps()}},o.a.createElement(j.a,null),"Mogu\u0107e zamjene",o.a.createElement(E.a,{count:e.swaps,dot:!0}))),o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){r(!1),m(!1),i("")}},o.a.createElement(j.a,null),"Odjava")))):a?o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){r(!1),m(!1),i("")}},o.a.createElement(j.a,null),"Odjava")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/login"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(j.a,null),"Prijavi se")),o.a.createElement(d.b,{to:"/register"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(v.a,null),"Registriraj se")))}(t,s))},y=t(450),O=t(464);var x=function(e){var a=Object(n.useContext)(h),t=a.loggedIn,r=a.setLoggedIn,l=Object(n.useContext)(b),c=(l.token,l.setToken),s=Object(n.useContext)(f),m=s.role,u=s.setRole,k=Object(n.useState)(!1),x=Object(i.a)(k,2),N=x[0],S=x[1],w=function(){S(!1)};return o.a.createElement("div",null,o.a.createElement(p.a,{className:"navContainerMobile",type:"text",onClick:function(){S(!0)},style:{color:"#fff"}},o.a.createElement(O.a,{style:{fontSize:"24px"}})),o.a.createElement(y.a,{title:"RoomSwitchr",width:200,closable:!0,onClose:w,visible:N},function(a,t){return console.log("loggedIn, role"),console.log(a),console.log(t),a&&"STUDENT"==t?(console.log("JA SAM STUDENT"),o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:w},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/myposts"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:w},o.a.createElement(j.a,null),"Moji oglasi")),o.a.createElement(d.b,{to:"/profile"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:w},o.a.createElement(j.a,null),"Uredi profil")),o.a.createElement(d.b,{to:"/recievedlikesposts"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){return e.removeLikes()}},o.a.createElement(j.a,null),"Dobiveni lajkovi",o.a.createElement(E.a,{count:e.likes,dot:!0}))),o.a.createElement(d.b,{to:"/confirmswap"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){return e.removeSwaps()}},o.a.createElement(j.a,null),"Mogu\u0107e zamjene",o.a.createElement(E.a,{count:e.swaps,dot:!0}))),o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){r(!1),S(!0),u(!1),c("")}},o.a.createElement(j.a,null),"Odjava"))))):a?(console.log("JA SAM DJELATNIK"),o.a.createElement(o.a.Fragment,null," ",o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){r(!1),S(!0),u(!1),c("")}},o.a.createElement(j.a,null),"Odjava")))):(console.log("JA NISAM NI\u0160TA"),o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:w},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/login"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:w},o.a.createElement(j.a,null),"Prijavi se")),o.a.createElement(d.b,{to:"/register"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:w},o.a.createElement(v.a,null),"Registriraj se"))))}(t,m)))},N=t(12),S=t.n(N);var w=function(){var e=Object(n.useContext)(h),a=e.loggedIn,t=(e.setLoggedIn,Object(n.useContext)(b)),r=t.token,l=(t.setToken,Object(n.useContext)(f)),c=l.role,s=(l.setRole,Object(n.useState)(0)),m=Object(i.a)(s,2),u=m[0],p=m[1],E=Object(n.useState)(0),g=Object(i.a)(E,2),j=g[0],v=g[1],y=function(){S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/home/notification/like"),{},{headers:{Authorization:"Bearer "+r}}).then((function(e){p(0)})).catch((function(e){}))},O=function(){S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/home/notification/swap"),{},{headers:{Authorization:"Bearer "+r}}).then((function(e){v(0)})).catch((function(e){}))};return Object(n.useEffect)((function(){console.log(c),a&&"STUDENT"==c&&(S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/home/notification/like"),{headers:{Authorization:"Bearer "+r}}).then((function(e){p(e.data)})).catch((function(e){})),S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/home/notification/swap"),{headers:{Authorization:"Bearer "+r}}).then((function(e){v(e.data)})).catch((function(e){})))}),[]),o.a.createElement("div",{className:"nav"},o.a.createElement("img",{alt:"logo",src:"/room.png",className:"navLogo"}),o.a.createElement(d.b,{to:"/"},o.a.createElement("span",{className:"navName"},"RoomSwitchr")),o.a.createElement(k,{likes:u,swaps:j,removeLikes:y,removeSwaps:O}),o.a.createElement(x,{likes:u,swaps:j,removeLikes:y,removeSwaps:O}))},C=t(62),P=t.n(C),I=t(80),F=t(445),A=t(237),z=t(167),B=t(458),T=t(457),M=t(456),L=F.a.Meta;t(190);var D=function(e){var a="Dom: "+e.title,t=e.idOglas,r=e.kategorija_sobe,l=e.kat,c=e.paviljon,s=Object(n.useContext)(b),m=s.token,u=(s.setToken,Object(n.useContext)(h)),p=u.loggedIn,d=(u.setLoggedIn,Object(n.useState)()),E=Object(i.a)(d,2),g=(E[0],E[1],Object(n.useState)(!1)),j=Object(i.a)(g,2),v=j[0],f=j[1],k=Object(n.useState)(!1),y=Object(i.a)(k,2),O=y[0],x=y[1],N=Object(n.useState)(!1),w=Object(i.a)(N,2),C=w[0],D=w[1],U=function(){var e=Object(I.a)(P.a.mark((function e(a,t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={oglasId:a,stupanjLajkanja:t},e.prev=1,e.next=4,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/home/"),n,{headers:{Authorization:"Bearer "+m}}).then((function(e){switch(e.data.stupanjLajkanja){case 1:f(!0),x(!1),D(!1);break;case 2:f(!1),x(!0),D(!1);break;case 3:f(!1),x(!1),D(!0);break;case 0:f(!1),x(!1),D(!1)}}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),A.a.error({message:"Gre\u0161ka",description:"Do\u0161lo je do gre\u0161ke prilikom lajkanja oglasa. Provjerite svoj aktivni oglas."});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a,t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var a;1==(a=e.lajk)&&f(!0),2==a&&x(!0),3==a&&D(!0)}),[]),o.a.createElement("div",null,p?o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto"},actions:[v?o.a.createElement("div",{onClick:function(){return U(t,"0")}},o.a.createElement(B.a,null)):o.a.createElement("div",{onClick:function(){return U(t,"1")}},o.a.createElement(T.a,null)),O?o.a.createElement("div",{onClick:function(){return U(t,"0")}},o.a.createElement(B.a,null),o.a.createElement(B.a,null)):o.a.createElement("div",{onClick:function(){return U(t,"2")}},o.a.createElement(T.a,null),o.a.createElement(T.a,null)),C?o.a.createElement("div",{onClick:function(){return U(t,"0")}},o.a.createElement(B.a,null),o.a.createElement(B.a,null),o.a.createElement(B.a,null)):o.a.createElement("div",{onClick:function(){return U(t,"3")}},o.a.createElement(T.a,null),o.a.createElement(T.a,null),o.a.createElement(T.a,null)),o.a.createElement("div",{className:"App"},o.a.createElement("p",{"data-tip":!0,"data-for":"registerTip",onClick:function(){S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/home/"),{stupanjLajkanja:"4",oglasId:t},{headers:{Authorization:"Bearer "+m}}).then((function(e){}))}},o.a.createElement(M.a,null)),o.a.createElement(z.a,{id:"registerTip",place:"top",effect:"solid"},"Ne prikazuj vi\u0161e"))]},o.a.createElement(L,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon:",c),o.a.createElement("p",null,"Kat:",l),o.a.createElement("p",null,"Kategorija sobe:",r))})):o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto"}},o.a.createElement(L,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon: ",c),o.a.createElement("p",null,"Kat: ",l),o.a.createElement("p",null,"Kategorija sobe: ",r))})),o.a.createElement("br",null))},U=t(236),Q=t(96),G=t(97),K=t(100),R=t(99),q=t(449),V=(t(191),q.a.Option),W=function(e){Object(K.a)(t,e);var a=Object(R.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).validateMessages=function(){},n.state={domovi:[],post:null},n}return Object(G.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=[];S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/dom")).then((function(t){a=t.data,e.setState({domovi:a})}))}},{key:"render",value:function(){var e=this,a=function(e){1===e?A.a.open({message:"Uspje\u0161na predaja",description:"Novi oglas je uspje\u0161no predan!"}):0===e&&A.a.open({message:"Neuspje\u0161na predaja",description:"Molimo poku\u0161ajte ponovno."})},t=this.state.domovi.map((function(e){return o.a.createElement(V,{value:e.idDom},e.imeDoma)}));return o.a.createElement("div",null,o.a.createElement(y.a,{title:"Uredi oglas",onClose:function(){return e.props.closeHandler()},visible:this.props.visible,bodyStyle:{paddingBottom:80},width:"400px"},o.a.createElement(m.a,Object.assign({},{labelCol:{span:8}},{name:"nest-messages",onFinish:function(t){t.idOglas=e.props.idOglas,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/post"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))},validateMessages:this.validateMessages}),o.a.createElement(m.a.Item,{name:"domID",rules:[{required:!0,message:"Odaberite dom!"}],initialValue:this.props.idDom},o.a.createElement(q.a,{placeholder:"Dom"},t)),o.a.createElement(m.a.Item,{name:"paviljon",rules:[{required:!0,message:"Odaberite paviljon!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=20?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 20!")}}}],initialValue:this.props.paviljon},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Paviljon"})),o.a.createElement(m.a.Item,{name:"kategorijaSobe",rules:[{required:!0,message:"Odaberite kategoriju sobe!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=7?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 7!")}}}],initialValue:this.props.kategorijaSobe},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kategorija sobe"})),o.a.createElement(m.a.Item,{name:"kat",rules:[{required:!0,message:"Odaberite kat!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=10?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 10!")}}}],initialValue:this.props.kat},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kat"})),o.a.createElement(m.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Spremi promjene")))))}}]),t}(o.a.Component),J=t(462),_=F.a.Meta;var H=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],l=t[1],c="Dom: "+e.title,s=e.idOglas,m=e.kategorija_sobe,u=e.kat,p=e.paviljon,d=Object(n.useContext)(b),E=d.token,g=(d.setToken,Object(n.useContext)(h)),j=(g.loggedIn,g.setLoggedIn,null);return j=e.aktivan?o.a.createElement(U.a,{color:"green"},"Aktivan oglas"):o.a.createElement(U.a,{color:"red"},"Neaktivan oglas"),o.a.createElement("div",null,o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto"},actions:[o.a.createElement("div",{onClick:function(){l(!0)}},o.a.createElement(J.a,null)," uredi")]},o.a.createElement(U.a,{color:"magenta",style:{marginBottom:"10px"}},"Moja Objava"),j,o.a.createElement("br",null),o.a.createElement(_,{title:c,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon: ",p),o.a.createElement("p",null,"Kat: ",u),o.a.createElement("p",null,"Kategorija sobe: ",m))})),o.a.createElement(W,{visible:r,closeHandler:function(){l(!1)},idOglas:s,kat:u,paviljon:p,kategorijaSobe:m,dom:e.title,idDom:e.idDom,token:E}),o.a.createElement("br",null))},$=t(448),Z=s.a.Content,X=s.a.Footer,Y=$.a.Panel;function ee(){var e=Object(n.useContext)(h),a=e.loggedIn,t=(e.setLoggedIn,Object(n.useContext)(b)),r=t.token,l=(t.setToken,Object(n.useState)([])),c=Object(i.a)(l,2),d=c[0],E=c[1],g=Object(n.useState)([]),j=Object(i.a)(g,2),v=j[0],f=j[1],k=Object(n.useState)([]),y=Object(i.a)(k,2),O=y[0],x=y[1],N=Object(n.useState)(0),C=Object(i.a)(N,2),P=C[0],I=C[1],F=Object(n.useState)(!1),A=Object(i.a)(F,2);A[0],A[1];Object(n.useEffect)((function(){a&&S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/currentuser/"),{headers:{Authorization:"Bearer "+r}}).then((function(e){x(e.data.id)})),S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/home/"),{headers:{Authorization:"Bearer "+r}}).then((function(e){E(e.data),f(e.data)}))}),[]);var z=v.map((function(e){return a?e.oglas.student.id===O?o.a.createElement(H,{key:e.oglas.idOglas,kat:e.oglas.kat,idOglas:e.oglas.idOglas,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,idDom:e.oglas.dom.idDom,aktivan:e.oglas.aktivan}):o.a.createElement(D,{key:e.oglas.idOglas,kat:e.oglas.kat,idOglas:e.oglas.idOglas,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,lajk:e.stupanjLajkanja}):o.a.createElement(D,{key:e.oglas.idOglas,kat:e.oglas.kat,idOglas:e.oglas.idOglas,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma})})),B=m.a.useForm(),T=Object(i.a)(B,1)[0];return o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(Z,{style:{padding:"0 50px"}},o.a.createElement("div",{className:"site-layout-content",style:{maxWidth:"720px",margin:"0 auto"}},o.a.createElement("br",null),o.a.createElement($.a,{defaultActiveKey:["0"],onChange:function(){}},o.a.createElement(Y,{header:"Filtriranje oglasa",key:"1"},o.a.createElement(m.a,Object.assign({},{labelCol:{span:4},wrapperCol:{span:20}},{name:"register",onFinish:function(e){if(1==P)S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/home/filter"),{headers:{Authorization:"Bearer "+r}}).then((function(e){console.log(e.data),T.setFieldsValue({domQuery:e.data.dom,paviljonQuery:e.data.paviljon,katQuery:e.data.kat,kategorijaSobeQuery:e.data.kategorijaSobe})})).catch((function(e){}));else if(2==P){console.log(e);var a={dom:e.domQuery,paviljon:e.paviljonQuery,kat:e.katQuery,kategorijaSobe:e.kategorijaSobeQuery};S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/home/filter"),a,{headers:{Authorization:"Bearer "+r}}).then((function(e){})).catch((function(e){}))}else{var t=[];d.forEach((function(a){var n=[e.domQuery,e.katQuery,e.kategorijaSobeQuery,e.paviljonQuery];if("undefined"!==typeof e.domQuery||"undefined"!==typeof e.katQuery||"undefined"!==typeof e.kategorijaSobeQuery||"undefined"!==typeof e.paviljonQuery){var o=0,r=!1;n.forEach((function(t){t&&(0==o?a.oglas.dom.imeDoma.includes(e.domQuery)||(r=!0):1==o?a.oglas.kat.toString().includes(e.katQuery)||(r=!0):2==o?a.oglas.kategorijaSobe.toString().includes(e.kategorijaSobeQuery)||(r=!0):3==o&&(a.oglas.paviljon.toString().includes(e.paviljonQuery)||(r=!0))),o++})),r||t.push(a)}})),void 0!==e.paviljonQuery&&""!==e.paviljonQuery||void 0!==e.katQuery&&""!==e.katQuery||void 0!==e.kategorijaSobeQuery&&""!==e.kategorijaSobeQuery||void 0!==e.domQuery&&""!==e.domQuery||(t=d),f(t)}},form:T,initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0}),o.a.createElement(m.a.Item,{name:"domQuery",label:"Dom"},o.a.createElement(u.a,null)),o.a.createElement(m.a.Item,{name:"paviljonQuery",label:"Paviljon"},o.a.createElement(u.a,null)),o.a.createElement(m.a.Item,{name:"katQuery",label:"Kat"},o.a.createElement(u.a,null)),o.a.createElement(m.a.Item,{name:"kategorijaSobeQuery",label:"Kategorija Sobe"},o.a.createElement(u.a,null)),o.a.createElement(m.a.Item,{style:{textAlign:"right"}},o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return I(3)}},"Pretra\u017ei"),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return I(2)},style:{margin:"10px"}},"Spremi filter"),o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return I(1)}},"Prika\u017ei spremljene filtere")):null)))),o.a.createElement("br",null),z,o.a.createElement("br",null))),o.a.createElement(X,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var ae=t(447),te=t(461),ne=s.a.Content,oe=s.a.Footer,re=ae.a.Title;function le(){var e=Object(n.useContext)(h),a=e.loggedIn,t=e.setLoggedIn,r=Object(n.useContext)(b),l=r.token,i=r.setToken,d=Object(n.useContext)(f),E=d.role,g=d.setRole,v=function(e){S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/currentuser"),{headers:{Authorization:"Bearer "+e}}).then((function(e){console.log("new role "+e.data.userRole),g(e.data.userRole),console.log("role variable: "+E)}))};return Object(n.useEffect)((function(){l&&v(l)}),[]),o.a.createElement(o.a.Fragment,null,a&&"SC_DJELATNIK"===E?o.a.createElement(c.a,{to:"/scdjelatnik"}):null,a&&"STUDENT"===E?o.a.createElement(c.a,{to:"/"}):null,o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(ne,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(F.a,null,o.a.createElement(re,null,"Prijava"),o.a.createElement(m.a,{name:"normal_login",className:"login-form",onFinish:function(e){var a=function(e){1===e?(A.a.open({message:"Prijava uspje\u0161na",description:"Prebacujemo vas"}),t(!0)):0===e&&A.a.open({message:"Prijava neuspje\u0161na",description:"Molimo poku\u0161ajte ponovno"})};S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/signin"),e).then((function(e){var t=e.data.accessToken;i(t),v(e.data.accessToken),console.log(e.data.role),a(1)})).catch((function(e){a(0)}))},onFinishFailed:function(e){}},o.a.createElement(m.a.Item,{name:"username",rules:[{required:!0,message:"Upi\u0161i svoje korisni\u010dko ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Korisni\u010dko ime"})),o.a.createElement(m.a.Item,{name:"password",rules:[{required:!0,message:"Upi\u0161i svoju lozinku!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(te.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Lozinka"})),o.a.createElement(m.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Prijavi se"))))),o.a.createElement(oe,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}var ie=s.a.Content,ce=s.a.Footer,se=ae.a.Title;function me(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],r=a[1],l=function(e){1===e?A.a.open({message:"Registracija uspje\u0161na",description:"Biti \u0107ete preba\u010deni na stranicu za prijavu"}):0===e&&A.a.open({message:"Registracija neuspje\u0161na",description:"Molimo poku\u0161ajte ponovno"})};return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(c.a,{to:"/login"}):null,o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(ie,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(F.a,null,o.a.createElement(se,null,"Registracija"),o.a.createElement(m.a,{name:"normal_login",className:"login-form",onFinish:function(e){delete e.confirmPassword,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/signup"),e).then((function(e){l(1),r(!0)})).catch((function(e){l(0)}))},onFinishFailed:function(e){}},o.a.createElement(m.a.Item,{name:"username",rules:[{required:!0,message:"Upi\u0161i jedinstveno korisni\u010dko ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Korisni\u010dko ime"})),o.a.createElement(m.a.Item,{name:"email",rules:[{required:!0,message:"Upi\u0161i svoj Email!"},{type:"email",message:"Neispravan unos email-a"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Email"})),o.a.createElement(m.a.Item,{name:"jmbag",rules:[{required:!0,message:"Upi\u0161i svoj JMBAG!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)?Promise.resolve():Promise.reject("Neispravan unos JMBAG-a!")}}},{min:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"},{max:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"JMBAG"})),o.a.createElement(m.a.Item,{name:"name",rules:[{required:!0,message:"Upi\u0161i svoje ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Ime i prezime"})),o.a.createElement(m.a.Item,{name:"password",rules:[{required:!0,message:"Upi\u0161i svoju lozinku!"},{min:8,message:"Potrebno najmanje 8 znakova!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(te.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Lozinka"})),o.a.createElement(m.a.Item,{name:"confirmPassword",rules:[{required:!0,message:"Potvrdi svoju lozinku!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("Lozinke se ne podudaraju!"):Promise.resolve()}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(te.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Potvrdi lozinku"})),o.a.createElement(m.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Registriraj se"))))),o.a.createElement(ce,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}var ue=ae.a.Title,pe=q.a.Option,de=function(e){Object(K.a)(t,e);var a=Object(R.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).token=n.props.token,n.state={gradovi:[],domovi:[]},n}return Object(G.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=[];S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/grad")).then((function(t){a=t.data,e.setState({gradovi:a})}));var t=[];S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/dom")).then((function(a){t=a.data,e.setState({domovi:t})}))}},{key:"render",value:function(){var e=this,a=function(e){1===e?A.a.open({message:"Uspje\u0161na predaja",description:"Novi oglas je uspje\u0161no predan!"}):0===e&&A.a.open({message:"Neuspje\u0161na predaja",description:"Molimo poku\u0161ajte ponovno."})},t=(this.state.gradovi.map((function(e){return o.a.createElement(pe,{value:e.idGrada},e.imeGrada)})),this.state.domovi.map((function(e){return o.a.createElement(pe,{value:e.idDom},e.imeDoma)})));return o.a.createElement(F.a,null,o.a.createElement(ue,null,"Novi oglas"),o.a.createElement(ue,{level:4},"Opis sobe"),o.a.createElement(m.a,{name:"newPost",onFinish:function(t){S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/post"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))},onFinishFailed:function(e){}},o.a.createElement(m.a.Item,{name:"domID",rules:[{required:!0,message:"Odaberite dom!"}]},o.a.createElement(q.a,{placeholder:"Dom"},t)),o.a.createElement(m.a.Item,{name:"paviljon",rules:[{required:!0,message:"Odaberite paviljon!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=20?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 20!")}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Paviljon"})),o.a.createElement(m.a.Item,{name:"kategorijaSobe",rules:[{required:!0,message:"Odaberite kategoriju sobe!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=7?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 7!")}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kategorija sobe"})),o.a.createElement(m.a.Item,{name:"kat",rules:[{required:!0,message:"Odaberite kat!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=10?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 10!")}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kat"})),o.a.createElement(m.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Predaj oglas"))))}}]),t}(o.a.Component),Ee=s.a.Content,ge=s.a.Footer;function je(){var e=Object(n.useContext)(b),a=e.token;e.setToken;return o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(Ee,{className:"site-layout-content",style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(de,{token:a})),o.a.createElement(ge,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var ve=t(165),he=t.n(ve),be=(q.a.Option,function(e){Object(K.a)(t,e);var a=Object(R.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).validateMessages=function(){},n.state={},n}return Object(G.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=function(e){1===e?A.a.open({message:"Uspje\u0161no a\u017euriranje",description:"Novi podatci su uspje\u0161no predani!"}):0===e&&A.a.open({message:"Neuspje\u0161na predaja",description:"Molimo poku\u0161ajte ponovno."})};return o.a.createElement("div",null,o.a.createElement(y.a,{title:"Uredi korisni\u010dke podatke",onClose:function(){return e.props.closeHandler()},visible:this.props.visible,bodyStyle:{paddingBottom:80},width:"400px"},o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{name:"normal_login",className:"login-form",onFinish:function(t){t.id=e.props.id,t.password="12345678",S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/currentuser"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))},onFinishFailed:function(){}},o.a.createElement(m.a.Item,{name:"username",initialValue:this.props.username,rules:[{required:!0,message:"Upi\u0161i jedinstveno korisni\u010dko ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Korisni\u010dko ime"})),o.a.createElement(m.a.Item,{name:"email",initialValue:this.props.email,rules:[{required:!0,message:"Upi\u0161i svoj Email!"},{type:"email",message:"Neispravan unos email-a"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Email"})),o.a.createElement(m.a.Item,{name:"jmbag",initialValue:this.props.jmbag,rules:[{required:!0,message:"Upi\u0161i svoj JMBAG!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)?Promise.resolve():Promise.reject("Neispravan unos JMBAG-a!")}}},{min:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"},{max:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"JMBAG"})),o.a.createElement(m.a.Item,{name:"name",initialValue:this.props.name,rules:[{required:!0,message:"Upi\u0161i svoje ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"Ime i prezime"})),o.a.createElement(m.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"A\u017euriraj podatke"))),o.a.createElement(he.a,{level:3},"A\u017euriraj lozinku"),o.a.createElement(m.a,{name:"normal_login",className:"login-form",onFinish:function(t){t.id=e.props.id,t.username=e.props.username,t.name=e.props.name,t.email=e.props.email,t.jmbag=e.props.jmbag,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/changePassword"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))}},o.a.createElement(m.a.Item,{name:"password",rules:[{required:!1,message:"Upi\u0161i svoju lozinku!"},{min:8,message:"Potrebno najmanje 8 znakova!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(te.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Lozinka"})),o.a.createElement(m.a.Item,{name:"confirmPassword",rules:[{required:!1,message:"Potvrdi svoju lozinku!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("Lozinke se ne podudaraju!"):Promise.resolve()}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(te.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Potvrdi lozinku"})),o.a.createElement(m.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"A\u017euriraj lozinku"))))))}}]),t}(o.a.Component)),fe=s.a.Content,ke=s.a.Footer,ye=ae.a.Title;function Oe(){var e=Object(n.useContext)(b),a=e.token,t=(e.setToken,Object(n.useState)(!1)),r=Object(i.a)(t,2),l=r[0],c=r[1],m=Object(n.useState)(null),u=Object(i.a)(m,2),p=u[0],d=u[1],E=Object(n.useState)(null),g=Object(i.a)(E,2),j=g[0],v=g[1],h=Object(n.useState)(null),f=Object(i.a)(h,2),k=f[0],y=f[1],O=Object(n.useState)(null),x=Object(i.a)(O,2),N=x[0],C=x[1],P=Object(n.useState)(null),I=Object(i.a)(P,2),A=I[0],z=I[1];return Object(n.useEffect)((function(){S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/currentuser"),{headers:{Authorization:"Bearer "+a}}).then((function(e){d(e.data.username),v(e.data.name),y(e.data.jmbag),C(e.data.email),z(e.data.id)}))}),[]),o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(fe,null,o.a.createElement("br",null),o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto"},actions:[o.a.createElement("div",{onClick:function(){c(!0)}},o.a.createElement(J.a,null)," uredi")]},o.a.createElement(ye,null,"Moj profil"),o.a.createElement("br",null),o.a.createElement("p",null,"Korisni\u010dko ime: ",p),o.a.createElement("p",null,"Email: ",N),o.a.createElement("p",null,"Ime i prezime: ",j),o.a.createElement("p",null,"JMBAG: ",k)),o.a.createElement(be,{visible:l,closeHandler:function(){c(!1)},username:p,name:j,email:N,jmbag:k,id:A,token:a})),o.a.createElement(ke,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var xe=s.a.Content,Ne=s.a.Footer,Se=ae.a.Title;u.a.TextArea,q.a.Option;function we(){var e=Object(n.useContext)(b),a=e.token,t=(e.setToken,Object(n.useState)([])),r=Object(i.a)(t,2),l=r[0],c=r[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2);u[0],u[1];Object(n.useEffect)((function(){S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/home/vlastitiOglasi"),{headers:{Authorization:"Bearer "+a}}).then((function(e){e.data,c(e.data)}))}),[]);return o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(xe,null,o.a.createElement("br",null),o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(Se,{level:3},"Moji oglasi"),o.a.createElement(d.b,{to:"/newpost"},o.a.createElement(p.a,{type:"primary"},"Stvori novi oglas",o.a.createElement(J.a,null)))),o.a.createElement("br",null),l.map((function(e){return o.a.createElement(H,{key:e.idOglas,kat:e.kat,idOglas:e.idOglas,paviljon:e.paviljon,kategorija_sobe:e.kategorijaSobe,title:e.dom.imeDoma,idDom:e.dom.idDom,aktivan:e.aktivan})})),o.a.createElement("br",null)),o.a.createElement(Ne,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var Ce=t(172),Pe=s.a.Content,Ie=s.a.Footer,Fe=ae.a.Title;u.a.TextArea,q.a.Option;function Ae(){var e=Object(n.useContext)(b),a=(e.token,e.setToken,{columns:1,fields:[{key:"izvuc grad",label:"Grad",requried:!0}]});return o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(Pe,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(F.a,null,o.a.createElement(Fe,null,"Moji oglasi \xa0\xa0\xa0\xa0",o.a.createElement(d.b,{to:"/newpost"},o.a.createElement(p.a,{type:"primary"},"Stvori novi oglas",o.a.createElement(J.a,null)))),o.a.createElement(F.a,null,o.a.createElement("h3",null,"AKTIVAN OGLAS"),o.a.createElement(Ce.a,{name:"aktivan_oglas",meta:a,values:{},viewMode:!0}),o.a.createElement(d.b,{to:"/editpost",value:a.fields.key},o.a.createElement(p.a,{type:"primary",style:{padding:"5px"}},"Uredi",o.a.createElement(J.a,null)))),o.a.createElement("br",null),o.a.createElement(F.a,null,o.a.createElement(Ce.a,{name:"neaktivan_oglas",meta:a,values:{},viewMode:!0}),o.a.createElement(d.b,{to:"/editpost",value:a.fields.key},o.a.createElement(p.a,{type:"primary",style:{padding:"5px"}},"Uredi",o.a.createElement(J.a,null)))),o.a.createElement("br",null))),o.a.createElement(Ie,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var ze=t(463),Be=t(455),Te=F.a.Meta;t(190);var Me=function(e){var a="Dom: "+e.title,t=e.idOglas,r=e.kategorija_sobe,l=e.kat,c=e.paviljon,s=e.idLanac,m=Object(n.useContext)(b),u=m.token,p=(m.setToken,Object(n.useContext)(h)),d=p.loggedIn,E=(p.setLoggedIn,Object(n.useState)()),g=Object(i.a)(E,2),j=(g[0],g[1],Object(n.useState)(!1)),v=Object(i.a)(j,2),f=(v[0],v[1]),k=Object(n.useState)(!1),y=Object(i.a)(k,2),O=(y[0],y[1]),x=Object(n.useState)(!1),N=Object(i.a)(x,2),w=(N[0],N[1]),C=function(){A.a.error({message:"Gre\u0161ka",description:"Do\u0161lo je do gre\u0161ke prilikom potvrde zamjene."})},z=function(){var e=Object(I.a)(P.a.mark((function e(a){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idLanca:s},e.prev=1,e.next=4,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/potvrdiZamjenu"),t,{headers:{Authorization:"Bearer "+u}}).then((function(e){console.log(e.data),A.a.open({message:"Uspje\u0161no potvr\u0111ena zamjena",description:"Ukoliko se zamjena bude uspje\u0161na dobiti \u0107ete mail sa potvrdom o uspje\u0161noj zamjeni"})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),C();case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(I.a)(P.a.mark((function e(a){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idLanca:s},e.prev=1,e.next=4,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/odbijZamjenu"),t,{headers:{Authorization:"Bearer "+u}}).then((function(e){console.log(e.data),A.a.open({message:"Uspje\u0161no odba\u010dena zamjena"})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),C();case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var a;1==(a=e.lajk)&&f(!0),2==a&&O(!0),3==a&&w(!0)}),[]),o.a.createElement("div",null,d?o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto"},actions:[o.a.createElement("div",{onClick:function(){return z(t)}},o.a.createElement(ze.a,null)," Potvrdi"),o.a.createElement("div",{onClick:function(){return B(t)}},o.a.createElement(Be.a,null)," Odbij")]},o.a.createElement(Te,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon:",c),o.a.createElement("p",null,"Kat:",l),o.a.createElement("p",null,"Kategorija sobe:",r))})):o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto"}},o.a.createElement(Te,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon: ",c),o.a.createElement("p",null,"Kat: ",l),o.a.createElement("p",null,"Kategorija sobe: ",r))})),o.a.createElement("br",null))},Le=s.a.Content,De=s.a.Footer;function Ue(){var e=Object(n.useContext)(b),a=e.token,t=(e.setToken,Object(n.useState)([])),r=Object(i.a)(t,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){!function(){var e=[];S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/zamjene"),{headers:{Authorization:"Bearer "+a}}).then((function(a){e=a.data,c(e)}))}()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(Le,{style:{padding:"0 50px"}},o.a.createElement("br",null),0!=l.length?l.map((function(e){return o.a.createElement("div",{className:"site-layout-content",style:{maxWidth:"720px",margin:"0 auto"}},o.a.createElement(Me,{key:e.oglas.idOglas,idOglas:e.oglas.idOglas,kat:e.oglas.kat,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,idLanac:e.idLanca}),o.a.createElement("br",null))})):o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto",textAlign:"center"}},o.a.createElement("p",null,"Nema oglasa za prikaz."))),o.a.createElement(De,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}var Qe=s.a.Content,Ge=s.a.Footer,Ke=ae.a.Title;function Re(){var e=Object(n.useContext)(b),a=e.token,t=(e.setToken,Object(n.useState)([])),r=Object(i.a)(t,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){!function(){var e=[];S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/home/oglasiStudenataKojiSuLajkali"),{headers:{Authorization:"Bearer "+a}}).then((function(a){e=a.data,c(e)}))}()}),[]),o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(Qe,null,o.a.createElement("br",null),o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(Ke,{level:3},'Oglasi osoba koje su ozna\u010dile va\u0161 oglas sa "svi\u0111a mi se"')),o.a.createElement("br",null),0!=l.length?l.map((function(e){return o.a.createElement(D,{key:e.oglas.idOglas,kat:e.oglas.kat,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,idOglas:e.oglas.idOglas,lajk:e.stupanjLajkanja})})):o.a.createElement(F.a,{style:{maxWidth:"720px",margin:"auto",textAlign:"center"}},o.a.createElement("p",null,"Nema oglasa za prikaz.")),o.a.createElement("br",null)),o.a.createElement(Ge,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var qe=s.a.Content,Ve=s.a.Footer;function We(){var e=Object(n.useContext)(h),a=(e.loggedIn,e.setLoggedIn,Object(n.useContext)(b)),t=a.token,r=(a.setToken,Object(n.useState)([])),l=Object(i.a)(r,2),c=l[0],m=l[1],u=function(){var e=Object(I.a)(P.a.mark((function e(a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={idLanca:a},e.prev=1,e.next=4,S.a.post("".concat("https://room-switchr.herokuapp.com/","/api/v1/potvrdiZamjenu"),n,{headers:{Authorization:"Bearer "+t}}).then((function(e){console.log(e.data),A.a.open({message:"Uspje\u0161no potvr\u0111ena zamjena",description:"Ukoliko se zamjena bude uspje\u0161na dobiti \u0107ete mail sa potvrdom o uspje\u0161noj zamjeni"}),p()}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}(),p=function(){S.a.get("".concat("https://room-switchr.herokuapp.com/","/api/v1/zamjene"),{headers:{Authorization:"Bearer "+t}}).then((function(e){var a=[],t=[];0===e.data.length||(e.data.forEach((function(e){a.includes(e.idLanca)||(a.push(e.idLanca),t.push({idLanca:e.idLanca,oglasi:[]}))})),e.data.forEach((function(e){for(var a=0;a<t.length;a++)t[a].idLanca==e.idLanca&&t[a].oglasi.push(e.oglas)})),m(t))}))},d=Object.keys(c).map((function(e){return o.a.createElement(F.a,{title:c[e].idLanca,bordered:!1,style:{maxWidth:"720px",margin:"auto",width:"100%"},actions:[o.a.createElement("div",{onClick:function(){return u(c[e].idLanca)}},o.a.createElement(ze.a,null)," Potvrdi")]},c[e].oglasi.map((function(e){return o.a.createElement("div",{style:{borderBottom:"2px solid #f0f0f0",marginBottom:"10px"}},o.a.createElement("h3",null,"Student"),o.a.createElement("p",null,"ime: ",e.student.name),o.a.createElement("p",null,"email: ",e.student.email),o.a.createElement("p",null,"JMBAG: ",e.student.jmbag),o.a.createElement("br",null),o.a.createElement("h3",null,"Soba"),o.a.createElement("p",null,"Dom: ",e.dom.imeDoma),o.a.createElement("p",null,"Paviljon: ",e.paviljon),o.a.createElement("p",null,"Kat: ",e.kat),o.a.createElement("p",null,"Kategorija sobe: ",e.kategorijaSobe),o.a.createElement("br",null))})))}));return Object(n.useEffect)((function(){p()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(w,null),o.a.createElement(qe,{style:{padding:"0 50px"}},o.a.createElement("div",{className:"site-layout-content",style:{maxWidth:"720px",margin:"0 auto"}},o.a.createElement("br",null))),d,o.a.createElement(Ve,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}t(209);function Je(){t(209).config();var e=Object(n.useState)(!1),a=Object(i.a)(e,2),r=a[0],l=a[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(""),E=Object(i.a)(d,2),g=E[0],j=E[1],v=function(){return o.a.createElement("div",null,o.a.createElement(h.Provider,{value:{loggedIn:r,setLoggedIn:l}},o.a.createElement(b.Provider,{value:{token:u,setToken:p}},o.a.createElement(f.Provider,{value:{role:g,setRole:j}},o.a.createElement(c.b,{exact:!0,path:"/",component:ee}),o.a.createElement(c.b,{exact:!0,path:"/login",component:le}),o.a.createElement(c.b,{exact:!0,path:"/register",component:me}),o.a.createElement(c.b,{exact:!0,path:"/myposts",component:we}),o.a.createElement(c.b,{exact:!0,path:"/newpost",component:je}),o.a.createElement(c.b,{exact:!0,path:"/editpost",component:Ae}),o.a.createElement(c.b,{exact:!0,path:"/profile",component:Oe}),o.a.createElement(c.b,{exact:!0,path:"/confirmswap",component:Ue}),o.a.createElement(c.b,{exact:!0,path:"/recievedlikesposts",component:Re}),o.a.createElement(c.b,{exact:!0,path:"/scdjelatnik",component:We})))))};return o.a.createElement(c.d,{basename:""},o.a.createElement(v,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(442);l.a.render(o.a.createElement(d.a,null,o.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[239,1,2]]]);
//# sourceMappingURL=main.8e1580ea.chunk.js.map